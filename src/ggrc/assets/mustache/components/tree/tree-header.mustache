{{!
    Copyright (C) 2017 Google Inc.
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<header class="header tree-header flex-box {{cssClasses}}">
  {{^if disableConfiguration}}
  <tree-header-selector class="tree-header-selector">
    <a href="#" class="dropdown-toggle tview-dropdown-toggle visible-columns-icon"
       data-toggle="dropdown">
      <i class="fa fa-fw fa-bars"></i>
    </a>
    <div class="dropdown-menu dropdown-menu-form visible-columns-list">
      <a class="pull-right close-dropdown"><i class="fa fa-times black"></i></a>
      <h5>Set visible fields for {{modelName}}</h5>

      <ul class="attr-list">
        {{#availableColumns}}
          <li class="{{#if mandatory}}disabled{{/if}}">
            <label class="checkbox-inline" title="{{attr_title}}">
              <input type="checkbox"
                     {{#if display_status}}checked="checked"{{/if}}
                     {{#if mandatory}}disabled{{/if}}
                     ($change)="onChange"
                     value="{{attr_name}}"
                     class="notify-wrap attr-checkbox {{#if mandatory}}mandatory{{/if}}"
              >
              {{attr_title}}
            </label>
          </li>
        {{/availableColumns}}
      </ul>
      <a class="btn btn-small btn-info set-tree-attrs" href="javascript://" ($click)="setColumns">Set fields</a>
    </div>
  </tree-header-selector>

  <div class="flex-size-1">
      <div class="title-heading oneline">
          <span class="widget-col-title" ($click)="onOrderChange($element)" data-field="title">
            Title
            <i class="fa fa-{{#sortIcon 'title' sortingInfo.sortBy sortingInfo.sortDirection}}{{/sortIcon}}"></i>
          </span>
      </div>
    </div>
  {{/if}}

  <div class="flex-box flex-size-{{selectableSize}}">
        {{#selectableColumns}}
          <div class="flex-box flex-size-1 widget-col-title" ($click)="onOrderChange($element)" data-field="{{attr_sort_field}}">
              <span>{{attr_title}}</span>
              <i class="fa fa-{{#sortIcon attr_sort_field sortingInfo.sortBy sortingInfo.sortDirection}}{{/sortIcon}}"></i>
          </div>
        {{/selectableColumns}}
    </div>
  {{#if_equals model.shortName 'CycleTaskGroupObjectTask'}}
    <div class="item-actions"></div>
  {{/if_equals}}
</header>
