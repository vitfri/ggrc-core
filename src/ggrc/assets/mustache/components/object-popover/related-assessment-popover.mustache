{{!
    Copyright (C) 2017 Google Inc., authors, and contributors
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<object-popover {item}="selectedAssessment" {popover-title}="selectedAssessmentTitle" {direction}="popoverDirection"
                {popover-link}="selectedAssessmentLink" {popover-title-info}="popoverTitleInfo">
    <tab-container class="related-assessments__tab-container">
        <tab-panel {(panels)}="panels" title-text="Attributes">
            <div class="fields-wrapper flex-box flex-row">
              {{#each selectedAssessmentFields}}
                <div class="field-wrapper flex-size-1">
                  <ca-object-validation-icon {validation}="validation"></ca-object-validation-icon>
                  <div class="field-title">
                    <label class="field-title__text" for="form-field-{{id}}">{{title}}</label>
                    {{#if helptext}}
                      <i class="fa fa-question-circle helper-text" rel="tooltip" title="{{helptext}}"></i>
                    {{/if}}
                  </div>
                    <auto-save-form-field-view
                      {type}="type"
                      {value}="value"
                    ></auto-save-form-field-view>
                </div>
              {{/each}}
            </div>
        </tab-panel>
        <tab-panel {(panels)}="panels" title-text="Comments">
          <related-comments {parent-instance}="item.data">
              <mapped-objects
                  {parent-instance}="parentInstance"
                  {related-types}="relatedTypes">
                <comment-list-item {instance}="instance"></comment-list-item>
              </mapped-objects>
          </related-comments>
        </tab-panel>
    </tab-container>
</object-popover>
